% !TeX root = ./main.tex

\section{はじめに}

% what and good
プログラミング言語Juliaは，Pythonのような動的型付けの高水準言語が提供するような柔軟な記述性と，Cのような静的型付けの低水準言語を書くことで得られるようなパフォーマンスを両立することを目指して作られた，オープンソースの汎用言語である．

非常に簡潔なシンタックスを用いて書かれたジェネリックな関数は，型推論やLLVMフレームワークを用いて最適化されるため，プログラマはスクリプティングに用いたコードのまま良好なパフォーマンスを得ることができ．特に科学計算の場面を中心に既に多くのユーザーを獲得している．
またその言語設計から生まれる拡張性の高さは，言語の習熟度や専門分野を問わず広い範囲のプログラマがエコシステムに貢献することを促しており，2012年に発表された比較的新しい言語であるにも関わらず，既にそのコミュニティは大きな広がりを示している．

% bad and motivation
一方で，Juliaプログラムに含まれるエラーを実行する前に検出するのは難しい．
というのも，Juliaはれっきとした動的型付けの言語であり，最適化の過程で行われるコンパイルも実行時に（まだコンパイルされていない）関数が呼び出されたタイミングで Just-In-Time に行われるものであり，プログラムの正しさを保証しないからである．
つまり，Juliaの言語機能としてJuliaプログラムの安全性を静的に保証する機能は備わっておらず，何かしらの外的手法を用いて実現される必要があるが，現行のエコシステムにおいては例えば単なる typo の検出でさえも，正確に行うことは簡単ではない．
今後Juliaがさらに普及し，Juliaで書かれたソフトウェアの規模が大きくになるにつれ，この問題がさらに深刻になり得ることは，産業ソフトウェアとして現在広く使われている他の動的言語における同様の問題意識を鑑みれば明らかである．

% what we've achived
このような問題意識の下，本論文では，Juliaプログラムに対する静的解析手法の１つとして，Juliaの型推論機能をバグの検出に用いる「型プロファイラ」を提案する．
この型プロファイラは静的解析のための追加的な型アノテーションを必要とせず，素のJuliaプログラムに対して解析を行い，バグの検出やパフォーマンスの向上に有用な情報を引き出す．
% TODO: 言い方を少し変えたい
また，解析に用いられる型推論はJuliaの言語機能の核をなすものであり，実用上のJITコンパイルに耐え得るパフォーマンスを備えており，結果としてそれを利用する型プロファイラも同等のパフォーマンスを得ることができた．

% structure of this thesis
本論文では，その取り組みについて以下の構成で説明する．
まず2節では，Juliaの性質を概観し，ランタイムによらない静的解析器の必要性を確認した後，Julia以外の動的型付け言語における静的解析の取り組みを紹介する．
次の3節でJuliaの型推論を用いた型プロファイリングによる静的解析器を提案し，まずJuliaの言語機能として実装されている型推論システムについて確認した後，型プロファイラの設計方針を説明し，型プロファイラが検知しうるエラーについて簡単な証明を行う．
4節では型プロファイラの評価を行い，本論文で提案する型プロファイラが十分に実用的であることを示すとともに，現状で把握できている課題についても報告する．
最後の5節で本論文をまとめ，本プロジェクトの今後について述べる．
